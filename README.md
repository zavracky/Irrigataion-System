# Irrigataion-System

This system is designed to irrigate from 1 to 8 planters or sections of a garden.  The strategy used is simply to measure the moisture content of the soil using soil resistance sensors and if it’s too low to actuate a valve.  Therefore, for eight planters, eight soil sensors and eight valves are needed.  An Arduino Nano (controller) is used to effectuate the process for opening and closing valves, and to communicate information with a home automation system.  

The block diagram in Figure 1 shows the interconnection of the various system elements.  There are three major components of the system, the system electronics, the valve enclosure, and the plumbing components.  The electronics include the Arduino mounted on a project specific PCB, two four channel relay boards, a terminal strip, and a 12V 2A power supply.  For the system constructed and described here, there are two valve enclosures each containing four valves.  The need for the enclosures arises because the valves with their electrical connectors are placed outdoors.  The enclosure is meant to protect the valve connections from the elements.  For an indoor application the enclosures are not needed and the valves can simply be mounted on a support structure.  The final element is the plumbing.  For this implementation, ¼ inch drip tubing is employed.  This size is perfectly adequate for the  7” x 36” planters being irrigated, but might not be sufficient for larger areas or bigger planters.  However, with relatively minor adjustments, the system can be modified to handle much larger valves (more on this later in this document).  A set of five water sprinklers are connected to four 7” sections of tubing.  The middle sprinkler connects to a tee where the water supply is connected.  The sprinklers have flow adjustment capability which is useful for creating an even amount of water from each one.

Since this irrigation system is being placed outdoors, the electronics must be housed in a waterproof enclosure (see parts list, Appendix III).  In Figures 2 and 4, the lid and the box are shown separately with the lid containing the relays and a terminal strip and the box containing the Arduino, power supply and control electronics.  The relays are four gang relays on two boards, totaling eight relays.  While eight gang relay boards are available, they don’t fit in the box, but two four gang relay boards fit nicely.  The terminal strip is used to simplify the electrical connections to the valves.

A flow meter was added to provide flow information and to help keep track of when and how often the plants are being watered.  Data is stored in a Database in Home Assistant.  This data includes the state of all entities as a function of time.  By looking at the state data, one can tell which valve has been opened and then correlate that to the flow meter data.  SQL_lite is a great piece of freeware that helps explore the HomeAssistant database.
